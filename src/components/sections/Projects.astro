---
import H2 from "../ui/H2.astro";
import { getCollection } from "astro:content";
import ProjectCard from "../ui/ProjectCard.astro";

const { t, locale } = Astro.props;
const projectsRaw = await getCollection("projects", (p) => p.data.locale === locale);
const projects = projectsRaw.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<div
  class="bg-primary w-full flex flex-col items-space-between justify-between items-center gap-5 px-10 py-10 md:py-20 shadow-[inset_0px_5px_6px_0px_rgba(0,_0,_0,_0.1)]"
>
  <H2>{t.projects.title}</H2>
  <div class="flex flex-row justify-center flex-wrap gap-5">
    {
      projects.map((project) => {
        return <ProjectCard t={t} project={project} />;
      })
    }
  </div>
</div>
